<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Лекция № 10: Понятие прерывания</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f9f9f9;
        }
        h1, h2 {
            color: #2c3e50;
        }
        a {
            color: #2980b9;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .content {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        ol {
            margin-top: 10px;
        }
        /* Можно добавить дополнительные стили по желанию */
    </style>
</head>
<body>
<div class="content">
    <h1>Лекция № 10</h1>
    <h2>Понятие прерывания. Последовательность действий при обработке прерываний. Классы прерываний. Рабочая область прерываний</h2>
    <p>Прерывания — механизм, позволяющий координировать параллельное функционирование отдельных устройств вычислительной системы и реагировать на особые состояния, возникающие при работе процессора. Это принудительная передача управления от выполняемой программы к системе (а через нее — к соответствующей программе обработки прерывания), происходящая при возникновении определенного события. Прерывания используются для реализации асинхронных событий, таких как взаимодействие с внешними устройствами (клавиатура, мышь, диск), таймеры, ошибки и другие события, которые требуют немедленного внимания процессора.</p>
    <p>Идея прерываний была предложена в середине 50-х годов и внесла значительный вклад в развитие вычислительной техники.</p>
    <p><strong>Основная цель введения прерываний</strong> — реализация асинхронного режима работы и распараллеливание работы отдельных устройств вычислительного комплекса.</p>
    <p>Процессор в обычной ситуации выполняет программу, инструкцию за инструкцией. Однако, при возникновении прерывания, он временно прекращает выполнение текущей инструкции и переключается на обработку события, вызвавшего прерывание. После обработки он возвращается к продолжению выполненной программы.</p>
    <p>Механизм реализуется аппаратно-программными средствами. Все структуры системы прерываний имеют одну общую особенность — изменение порядка выполнения команд процессором при возникновении прерывания.</p>
    
    <h3>Последовательность действий при обработке прерываний</h3>
    <ol>
        <li><strong>Определение приоритета прерывания</strong>: при нескольких одновременных прерываниях выбирается наиболее приоритетное.</li>
        <li><strong>Сохранение состояния процессора</strong>: регистры, флаги и указатель программы сохраняются для возврата после обработки.</li>
        <li><strong>Переход в режим обработки прерывания</strong>: переключение в специальный режим, в который загружаются обработчики.</li>
        <li><strong>Выполнение обработчика прерывания</strong>: код, который инициирует реакции на конкретное событие.</li>
        <li><strong>Возврат к основной программе</strong>: восстановление сохраненного состояния и продолжение выполнения.</li>
    </ol>

    <h3>Классы прерываний</h3>
    <p>Прерывания классифицируют по признакам:</p>
    <ul>
        <li><strong>Аппаратные (асинхронные или внешние)</strong>: возникают от устройств (клавиатура, мышь, таймеры и др.).</li>
        <li><strong>Программные (синхронные или внутренние)</strong>: вызваны программным кодом (ошибки, системные вызовы).</li>
        <li><strong>Исключения (exceptions)</strong>: ошибки выполнения программы (деление на ноль, нарушение прав доступа).</li>
        <li><strong>Внешние (external)</strong>: внешние сигналы от периферийных устройств.</li>
    </ul>

    <h3>Рабочая область прерываний</h3>
    <p>Это память для хранения данных, необходимых для восстановления состояния после обработки прерывания:</p>
    <ul>
        <li>Сохраненные регистры процессора</li>
        <li>Флаги и параметры состояния</li>
        <li>Местоположение обработки прерывания в таблице прерываний</li>
    </ul>
    <p>Каждое прерывание использует свою область для хранения контекста.</p>

    <h3>Пример обработки прерывания (на примере x86)</h3>
    <ol>
        <li>Процессор получает сигнал от устройства.</li>
        <li>Останавливает текущую программу.</li>
        <li>Сохраняет контекст (регистры, указатель на следующую инструкцию).</li>
        <li>Переходит к обработчику через таблицу прерываний.</li>
        <li>Обработчик выполняет нужные действия.</li>
        <li>Восстанавливает контекст.</li>
        <li>Продолжает работу программы.</li>
    </ol>

    <p>Обработка прерываний важна для эффективной работы системы, обеспечивая асинхронное реагирование на события.</p>

    <h3>Контрольные вопросы</h3>
    <ul>
        <li>Что такое прерывание?</li>
        <li>В чем заключается основная цель использования прерываний в вычислительных системах?</li>
        <li>Что происходит при возникновении прерывания?</li>
        <li>Почему необходимо сохранять состояние процессора при обработке прерывания?</li>
        <li>Какие виды прерываний существуют и чем они отличаются?</li>
        <li>Что происходит после завершения обработки прерывания?</li>
        <li>Что такое рабочая область прерываний и какие данные в ней хранятся?</li>
        <li>Почему важно правильно организовать обработку прерываний в многозадачной системе?</li>
    </ul>
    <p><a href="answer.html">Перейти к ответам на вопросы</a></p>
</div>
</body>
</html>